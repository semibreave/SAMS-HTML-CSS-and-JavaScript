<?xml 
     version = "1.0" 
     encoding = "UTF-8"
?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

  <head>
	<title>
		Working Calendar
	</title>

    
  </head>	


  <body>
	
	<script type = "text/javascript">
		
		var date = new Date('2022-03-20');
		var leaves = 0;
		var entitlement = 12;
		var dailyEarning = entitlement/365;
		const I = [];
		const Day = [];
		const DOW = [];
		const Apply = [];
		const Balance = [];
		
		//Generate arrays for Date properties
		for(i=1;i<=365;i++){
		
			date.setDate(date.getDate() + 1);
			
		    I.push(i);
			Day.push(date.getDate() + '/' + (date.getMonth() + 1)  + '/' +  (date.getUTCFullYear()) );
			DOW.push(date.toDateString().split(' ')[0]);
			
		}
	
		//Generate array for leave applied
		for(j=1;j<=365;j++){
			
			if(j==65){
			
				Apply.push(1);
			}
			
			else{
				Apply.push(0);
			}
		}
		
		//Generate array for leave Balance of each day
		for(k=0;k<365;k++){
			
			leaves = leaves + dailyEarning - Apply[k];
			Balance.push(leaves.toFixed(2));
		}
		
////////////////////////////////////// Table Construction /////////////////////////////////////
	
		// creates a <table> element and a <tbody> element
		const tbl = document.createElement("table");
		const tblBody = document.createElement("tbody");
		

///////////////////////////////////////// First Row ///////////////////////////////////////////////	
		// creating all cells
		for (let i = 0; i < 1; i++) {
			// creates a table row
			const row = document.createElement("tr");
		
			for (let j = 0; j < 5; j++) {
			// Create a <td> element and a text node, make the text
			// node the contents of the <td>, and put the <td> at
			// the end of the table row
			const cell = document.createElement("td");
			
			//const cellText = document.createTextNode("Day");
			if(j==0){
				
				
				cellText = document.createTextNode("Day");
			}
			
			else if(j==1){
			
				cellText = document.createTextNode("Date");
			}
			
			else if(j==2){
			
				cellText = document.createTextNode("DOW");
			}
			
			else if(j==3){
			
				cellText = document.createTextNode("Apply");
			}
			
			else if(j==4){
			
				cellText = document.createTextNode("Balance");
			}
			
			cell.appendChild(cellText);
			
			cell.style.textAlign = "center";
			
			cell.style.backgroundColor = "green";
			
			row.appendChild(cell);
			}
		
			// add the row to the end of the table body
			tblBody.appendChild(row);
		}
	
		// put the <tbody> in the <table>
		tbl.appendChild(tblBody);
		// appends <table> into <body>
		document.body.appendChild(tbl);
		// sets the border attribute of tbl to '2'
		tbl.setAttribute("border", "2");
		
////////////////////////////////////////// Rest of the Rows///////////////////////////////////////////////////////

// creating all cells
		for (let i = 0; i < 365; i++) {
			// creates a table row
			const row = document.createElement("tr");
		
			for (let j = 0; j < 5; j++) {
			// Create a <td> element and a text node, make the text
			// node the contents of the <td>, and put the <td> at
			// the end of the table row
			const cell = document.createElement("td");
			
			//const cellText = document.createTextNode("Day");
			if(j==0){
				
				
				cellText = document.createTextNode(I[i]);
			}
			
			else if(j==1){
			
				cellText = document.createTextNode(Day[i]);
			}
			
			else if(j==2){
			
				cellText = document.createTextNode(DOW[i]);
			}
			
			else if(j==3){
			
				cellText = document.createTextNode(Apply[i]);
			}
			
			else if(j==4){
			
				cellText = document.createTextNode(Balance[i]);
			}
			
			cell.appendChild(cellText);
			cell.style.textAlign = "center";
			
			row.appendChild(cell);
			}
		
			// add the row to the end of the table body
			tblBody.appendChild(row);
		}
	
		// put the <tbody> in the <table>
		tbl.appendChild(tblBody);
		// appends <table> into <body>
		document.body.appendChild(tbl);
		// sets the border attribute of tbl to '2'
		tbl.setAttribute("border", "2");
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////	
	</script>

  </body>	

</html>
